set(APIGEAR_VERSION 3.5.1)
@PACKAGE_INIT@

set(APIGEAR_BUILD_WITH_OLINK @APIGEAR_BUILD_WITH_OLINK@)
set(APIGEAR_BUILD_WITH_MONITOR @APIGEAR_BUILD_WITH_MONITOR@)
set(APIGEAR_BUILD_WITH_MQTT @APIGEAR_BUILD_WITH_MQTT@)

INCLUDE("${CMAKE_CURRENT_LIST_DIR}/ApiGearUtilitiesTargets.cmake")
if(APIGEAR_BUILD_WITH_OLINK)
INCLUDE("${CMAKE_CURRENT_LIST_DIR}/ApiGearPocoOlinkTargets.cmake")
endif()
if(APIGEAR_BUILD_WITH_MONITOR)
INCLUDE("${CMAKE_CURRENT_LIST_DIR}/ApiGearPocoTracerTargets.cmake")
endif()
if(APIGEAR_BUILD_WITH_MQTT)
INCLUDE("${CMAKE_CURRENT_LIST_DIR}/ApiGearPahoMQTTTargets.cmake")
endif()
set_and_check(APIGEAR_INCLUDE_DIR "@PACKAGE_INCLUDE_INSTALL_DIR@")

# make sure we have all needed dependencies
include(CMakeFindDependencyMacro)
if(APIGEAR_BUILD_WITH_OLINK OR APIGEAR_BUILD_WITH_MONITOR)
find_dependency(Poco COMPONENTS Foundation Net Util REQUIRED)
endif()
if(APIGEAR_BUILD_WITH_OLINK)
find_dependency(objectlink-core-cpp REQUIRED)
endif()
if(APIGEAR_BUILD_WITH_MQTT)
find_dependency(eclipse-paho-mqtt-c COMPONENTS paho-mqtt3as-static REQUIRED)
find_dependency(OpenSSL COMPONENTS SSL Crypto REQUIRED)
endif()
if(APIGEAR_BUILD_WITH_OLINK OR APIGEAR_BUILD_WITH_MONITOR OR APIGEAR_BUILD_WITH_MQTT)
find_dependency(nlohmann_json REQUIRED)
endif()

check_required_components(utilities)
if(APIGEAR_BUILD_WITH_MONITOR)
check_required_components(poco-tracer)
endif()
if(APIGEAR_BUILD_WITH_OLINK)
check_required_components(poco-olink)
endif()
if(APIGEAR_BUILD_WITH_MQTT)
check_required_components(paho-mqtt)
endif()
